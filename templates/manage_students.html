<!-- templates/manage_students.html -->
{% extends "base.html" %}

{% block content %}
<div class="toggle-container" style="text-align:right; margin-bottom:20px;">
  <button id="mode-toggle" class="theme-toggle">ðŸŒ™ Dark Mode</button>
</div>

<div class="container dashboard-box" style="padding: 30px; background: #fff; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.1);">
  <div class="title" style="font-size: 28px; font-weight: 600; margin-bottom: 25px; text-align:center;">Manage Student Achievements</div>

  <div class="table-responsive" style="overflow-x:auto;">
    <table class="table table-bordered" style="width:100%; border-collapse:collapse; color: var(--text-color);">
      <thead>
        <tr style="background: linear-gradient(90deg, #667eea, #764ba2); color:#fff;">
          <th>ID</th>
          <th>Name</th>
          <th>Event</th>
          <th>Type</th>
          <th>Date</th>
          <th>Institution</th>
          <th>Award</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for ach in achievements %}
        <tr style="transition: background 0.3s;" onmouseover="this.style.background='#f0f4ff'" onmouseout="this.style.background='transparent'">
          <form method="POST" action="{{ url_for('update_achievement', id=ach.id) }}">
            <td>{{ ach.student_id }}</td>
            <td><input type="text" name="student_name" value="{{ ach.student_name }}" class="form-control" style="padding:6px; border-radius:5px; border:1px solid #ccc;" required></td>
            <td><input type="text" name="event_name" value="{{ ach.event_name }}" class="form-control" style="padding:6px; border-radius:5px; border:1px solid #ccc;" required></td>
            <td><input type="text" name="achievement_type" value="{{ ach.achievement_type }}" class="form-control" style="padding:6px; border-radius:5px; border:1px solid #ccc;"></td>
            <td><input type="date" name="achievement_date" value="{{ ach.achievement_date }}" class="form-control" style="padding:6px; border-radius:5px; border:1px solid #ccc;" required></td>
            <td><input type="text" name="institution" value="{{ ach.institution }}" class="form-control" style="padding:6px; border-radius:5px; border:1px solid #ccc;"></td>
            <td><input type="text" name="award" value="{{ ach.award }}" class="form-control" style="padding:6px; border-radius:5px; border:1px solid #ccc;"></td>
            <td style="display:flex; gap:5px; flex-wrap:wrap;">
              <button type="submit" class="btn btn-success btn-sm" style="background: linear-gradient(135deg,#667eea,#764ba2); border:none; padding:6px 12px; border-radius:6px; cursor:pointer; transition:0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">Update</button>
          </form>
              <form method="POST" action="{{ url_for('delete_achievement', id=ach.id) }}" style="display:inline;">
                <button type="submit" class="btn btn-danger btn-sm" style="background: linear-gradient(135deg,#ff4e50,#f9d423); border:none; padding:6px 12px; border-radius:6px; cursor:pointer; transition:0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">Delete</button>
              </form>
            </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="mt-3" style="margin-top: 25px; text-align:center; display:flex; justify-content:center; gap:20px; flex-wrap:wrap;">
    <a href="{{ url_for('teacher_achievement_entry') }}" class="login-button" style="background: linear-gradient(135deg,#667eea,#764ba2); color:#fff; padding:12px 25px; border-radius:8px; text-decoration:none; font-weight:600; transition:0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">Add New Achievement</a>
    <a href="{{ url_for('teacher_dashboard') }}" class="login-button" style="background: linear-gradient(135deg,#ff4e50,#f9d423); color:#fff; padding:12px 25px; border-radius:8px; text-decoration:none; font-weight:600; transition:0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">Back to Dashboard</a>
  </div>
</div>

{% endblock %}
